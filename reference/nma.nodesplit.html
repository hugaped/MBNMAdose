<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Node-splitting model for testing consistency at the treatment-level — nma.nodesplit • MBNMAdose</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Node-splitting model for testing consistency at the treatment-level — nma.nodesplit"><meta property="og:description" content="Splits contributions for a given set of treatment comparisons into direct and
indirect evidence. A discrepancy between the two suggests that the consistency
assumption required for NMA (and subsequently MBNMA) may violated."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">MBNMAdose</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.4.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/consistencychecking-3.html">MBNMAdose: Checking for consistency</a>
    </li>
    <li>
      <a href="../articles/dataexploration-1.html">MBNMAdose: Exploring the data</a>
    </li>
    <li>
      <a href="../articles/mbnmadose-overview.html">MBNMAdose: Package Overview</a>
    </li>
    <li>
      <a href="../articles/metaregression-6.html">MBNMAdose: Perform Network Meta-Regression</a>
    </li>
    <li>
      <a href="../articles/nma_in_mbnmadose.html">Class effect NMA analysis using MBNMAdose</a>
    </li>
    <li>
      <a href="../articles/outputs-4.html">MBNMAdose outputs: Relative effects, forest plots and rankings</a>
    </li>
    <li>
      <a href="../articles/predictions-5.html">MBNMAdose: Calculating model predictions</a>
    </li>
    <li>
      <a href="../articles/runmbnmadose-2.html">UNKNOWN TITLE</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"></ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Node-splitting model for testing consistency at the treatment-level</h1>
    
    <div class="hidden name"><code>nma.nodesplit.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Splits contributions for a given set of treatment comparisons into direct and
indirect evidence. A discrepancy between the two suggests that the consistency
assumption required for NMA (and subsequently MBNMA) may violated.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">nma.nodesplit</span><span class="op">(</span></span>
<span>  <span class="va">network</span>,</span>
<span>  likelihood <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  link <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  method <span class="op">=</span> <span class="st">"common"</span>,</span>
<span>  comparisons <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  drop.discon <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for nma.nodesplit</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">x</span>, plot.type <span class="op">=</span> <span class="cn">NULL</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>network</dt>
<dd><p>An object of class <code>mbnma.network</code>.</p></dd>


<dt>likelihood</dt>
<dd><p>A string indicating the likelihood to use in the model. Can take either <code>"binomial"</code>,
<code>"normal"</code> or <code>"poisson"</code>. If left as <code>NULL</code> the likelihood will be inferred from the data.</p></dd>


<dt>link</dt>
<dd><p>A string indicating the link function to use in the model. Can take any link function
defined within JAGS (e.g. <code>"logit"</code>, <code>"log"</code>, <code>"probit"</code>, <code>"cloglog"</code>), be assigned the value <code>"identity"</code> for
an identity link function, or be assigned the value <code>"smd"</code> for modelling Standardised Mean Differences using an
identity link function. If left as <code>NULL</code> the link function will be automatically assigned based
on the likelihood.</p></dd>


<dt>method</dt>
<dd><p>Can take either <code>"common"</code> or <code>"random"</code> to indicate whether relative effects
should be modelled with between-study heterogeneity or not (see details).</p></dd>


<dt>comparisons</dt>
<dd><p>A matrix specifying the comparisons to be split (one row per comparison).
The matrix must have two columns indicating each treatment for each comparison. Values can
either be character (corresponding to the treatment names given in <code>network</code>) or
numeric (corresponding to treatment codes within the <code>network</code> - note that these
may change if <code>drop.discon = TRUE</code>).</p></dd>


<dt>drop.discon</dt>
<dd><p>A boolean object that indicates whether to drop treatments
that are disconnected at the treatment level. Default is <code>TRUE</code>. If set to <code>FALSE</code> then
this could lead to identification of nodesplit comparisons that are not connected
to the network reference treatment, or lead to errors in running the nodesplit models, though it
can be useful for error checking.</p></dd>


<dt>...</dt>
<dd><p>Arguments to be sent to <code><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot2::ggplot()</a></code></p></dd>


<dt>x</dt>
<dd><p>An object of <code>class("nma.nodesplit")</code></p></dd>


<dt>plot.type</dt>
<dd><p>A character string that can take the value of <code>"forest"</code> to plot
only forest plots, <code>"density"</code> to plot only density plots, or left as <code>NULL</code> (the
default) to plot both types of plot.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>Plots the desired graph(s) and returns an object (or list of object if
<code>plot.type=NULL</code>) of <code>class(c("gg", "ggplot"))</code></p>


    </div>
    <div id="details">
    <h2>Details</h2>
    <p>The S3 method <code><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot()</a></code> on an <code>nma.nodesplit</code> object generates either
forest plots of posterior medians and 95\% credible intervals, or density plots
of posterior densities for direct and indirect evidence.</p>
    </div>
    <div id="methods-by-generic-">
    <h2>Methods (by generic)</h2>
    
<ul><li><p><code>plot(nma.nodesplit)</code>: Plot outputs from treatment-level nodesplit models</p></li>
</ul></div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># \donttest{</span></span></span>
<span class="r-in"><span><span class="co"># Using the triptans data</span></span></span>
<span class="r-in"><span><span class="va">network</span> <span class="op">&lt;-</span> <span class="fu"><a href="mbnma.network.html">mbnma.network</a></span><span class="op">(</span><span class="va">triptans</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Values for `agent` with dose = 0 have been recoded to `Placebo`</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> agent is being recoded to enforce sequential numbering</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">split</span> <span class="op">&lt;-</span> <span class="fu">nma.nodesplit</span><span class="op">(</span><span class="va">network</span>, likelihood <span class="op">=</span> <span class="st">"binomial"</span>, link<span class="op">=</span><span class="st">"logit"</span>,</span></span>
<span class="r-in"><span>  method<span class="op">=</span><span class="st">"common"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   |                                                                              |                                                                      |   0%  |                                                                              |===                                                                   |   4%  |                                                                              |=====                                                                 |   8%  |                                                                              |========                                                              |  12%  |                                                                              |===========                                                           |  15%</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   |                                                                              |=============                                                         |  19%</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   |                                                                              |================                                                      |  23%  |                                                                              |===================                                                   |  27%  |                                                                              |======================                                                |  31%  |                                                                              |========================                                              |  35%  |                                                                              |===========================                                           |  38%  |                                                                              |==============================                                        |  42%</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   |                                                                              |================================                                      |  46%  |                                                                              |===================================                                   |  50%  |                                                                              |======================================                                |  54%</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   |                                                                              |========================================                              |  58%  |                                                                              |===========================================                           |  62%  |                                                                              |==============================================                        |  65%  |                                                                              |================================================                      |  69%  |                                                                              |===================================================                   |  73%  |                                                                              |======================================================                |  77%  |                                                                              |=========================================================             |  81%</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   |                                                                              |===========================================================           |  85%</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   |                                                                              |==============================================================        |  88%</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   |                                                                              |=================================================================     |  92%</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   |                                                                              |===================================================================   |  96%</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   |                                                                              |======================================================================| 100%</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Compiling model graph</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Resolving undeclared variables</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Allocating nodes</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Graph information:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Observed stochastic nodes: 182</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Unobserved stochastic nodes: 92</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Total graph size: 3436</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Initializing model</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "Calculating nodesplit for: zolmitriptan_1 vs almotriptan_1"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Compiling model graph</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Resolving undeclared variables</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Allocating nodes</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Graph information:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Observed stochastic nodes: 180</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Unobserved stochastic nodes: 91</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Total graph size: 3397</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Initializing model</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Compiling model graph</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Resolving undeclared variables</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Allocating nodes</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Graph information:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Observed stochastic nodes: 182</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Unobserved stochastic nodes: 323</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Total graph size: 3641</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Initializing model</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "Calculating nodesplit for: rizatriptan_1 vs sumatriptan_1"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Compiling model graph</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Resolving undeclared variables</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Allocating nodes</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Graph information:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Observed stochastic nodes: 180</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Unobserved stochastic nodes: 91</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Total graph size: 3395</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Initializing model</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Compiling model graph</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Resolving undeclared variables</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Allocating nodes</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Graph information:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Observed stochastic nodes: 182</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Unobserved stochastic nodes: 323</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Total graph size: 3641</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Initializing model</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "Calculating nodesplit for: almotriptan_1 vs sumatriptan_1"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Compiling model graph</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Resolving undeclared variables</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Allocating nodes</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Graph information:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Observed stochastic nodes: 180</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Unobserved stochastic nodes: 91</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Total graph size: 3395</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Initializing model</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Compiling model graph</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Resolving undeclared variables</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Allocating nodes</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Graph information:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Observed stochastic nodes: 182</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Unobserved stochastic nodes: 323</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Total graph size: 3641</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Initializing model</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "Calculating nodesplit for: rizatriptan_0.5 vs sumatriptan_0.5"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Compiling model graph</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Resolving undeclared variables</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Allocating nodes</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Graph information:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Observed stochastic nodes: 180</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Unobserved stochastic nodes: 91</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Total graph size: 3396</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Initializing model</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Compiling model graph</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Resolving undeclared variables</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Allocating nodes</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Graph information:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Observed stochastic nodes: 182</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Unobserved stochastic nodes: 323</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Total graph size: 3641</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Initializing model</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#### To perform nodesplit on selected comparisons ####</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Check for closed loops of treatments with independent evidence sources</span></span></span>
<span class="r-in"><span><span class="va">loops</span> <span class="op">&lt;-</span> <span class="fu"><a href="inconsistency.loops.html">inconsistency.loops</a></span><span class="op">(</span><span class="va">network</span><span class="op">$</span><span class="va">data.ab</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   |                                                                              |                                                                      |   0%  |                                                                              |===                                                                   |   4%  |                                                                              |=====                                                                 |   8%  |                                                                              |========                                                              |  12%  |                                                                              |===========                                                           |  15%</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   |                                                                              |=============                                                         |  19%</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   |                                                                              |================                                                      |  23%  |                                                                              |===================                                                   |  27%  |                                                                              |======================                                                |  31%  |                                                                              |========================                                              |  35%  |                                                                              |===========================                                           |  38%  |                                                                              |==============================                                        |  42%</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   |                                                                              |================================                                      |  46%  |                                                                              |===================================                                   |  50%  |                                                                              |======================================                                |  54%</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   |                                                                              |========================================                              |  58%  |                                                                              |===========================================                           |  62%  |                                                                              |==============================================                        |  65%  |                                                                              |================================================                      |  69%  |                                                                              |===================================================                   |  73%  |                                                                              |======================================================                |  77%  |                                                                              |=========================================================             |  81%</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   |                                                                              |===========================================================           |  85%</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   |                                                                              |==============================================================        |  88%</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   |                                                                              |=================================================================     |  92%</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   |                                                                              |===================================================================   |  96%</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   |                                                                              |======================================================================| 100%</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># This...</span></span></span>
<span class="r-in"><span><span class="va">single.split</span> <span class="op">&lt;-</span> <span class="fu">nma.nodesplit</span><span class="op">(</span><span class="va">network</span>, likelihood <span class="op">=</span> <span class="st">"binomial"</span>, link<span class="op">=</span><span class="st">"logit"</span>,</span></span>
<span class="r-in"><span>             method<span class="op">=</span><span class="st">"random"</span>, comparisons<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">rbind</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"sumatriptan_1"</span>, <span class="st">"almotriptan_1"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   |                                                                              |                                                                      |   0%  |                                                                              |===                                                                   |   4%  |                                                                              |=====                                                                 |   8%  |                                                                              |========                                                              |  12%  |                                                                              |===========                                                           |  15%</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   |                                                                              |=============                                                         |  19%</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   |                                                                              |================                                                      |  23%  |                                                                              |===================                                                   |  27%  |                                                                              |======================                                                |  31%  |                                                                              |========================                                              |  35%  |                                                                              |===========================                                           |  38%  |                                                                              |==============================                                        |  42%</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   |                                                                              |================================                                      |  46%  |                                                                              |===================================                                   |  50%  |                                                                              |======================================                                |  54%</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   |                                                                              |========================================                              |  58%  |                                                                              |===========================================                           |  62%  |                                                                              |==============================================                        |  65%  |                                                                              |================================================                      |  69%  |                                                                              |===================================================                   |  73%  |                                                                              |======================================================                |  77%  |                                                                              |=========================================================             |  81%</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   |                                                                              |===========================================================           |  85%</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   |                                                                              |==============================================================        |  88%</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   |                                                                              |=================================================================     |  92%</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   |                                                                              |===================================================================   |  96%</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   |                                                                              |======================================================================| 100%</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Compiling model graph</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Resolving undeclared variables</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Allocating nodes</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Graph information:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Observed stochastic nodes: 182</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Unobserved stochastic nodes: 205</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Total graph size: 3979</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Initializing model</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "Calculating nodesplit for: almotriptan_1 vs sumatriptan_1"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Compiling model graph</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Resolving undeclared variables</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Allocating nodes</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Graph information:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Observed stochastic nodes: 180</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Unobserved stochastic nodes: 203</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Total graph size: 3934</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Initializing model</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Compiling model graph</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Resolving undeclared variables</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Allocating nodes</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Graph information:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Observed stochastic nodes: 182</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Unobserved stochastic nodes: 436</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Total graph size: 4071</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Initializing model</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#...is the same as...</span></span></span>
<span class="r-in"><span><span class="va">single.split</span> <span class="op">&lt;-</span> <span class="fu">nma.nodesplit</span><span class="op">(</span><span class="va">network</span>, likelihood <span class="op">=</span> <span class="st">"binomial"</span>, link<span class="op">=</span><span class="st">"logit"</span>,</span></span>
<span class="r-in"><span>             method<span class="op">=</span><span class="st">"random"</span>, comparisons<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">rbind</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">6</span>, <span class="fl">12</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   |                                                                              |                                                                      |   0%  |                                                                              |===                                                                   |   4%  |                                                                              |=====                                                                 |   8%  |                                                                              |========                                                              |  12%  |                                                                              |===========                                                           |  15%</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   |                                                                              |=============                                                         |  19%</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   |                                                                              |================                                                      |  23%  |                                                                              |===================                                                   |  27%  |                                                                              |======================                                                |  31%  |                                                                              |========================                                              |  35%  |                                                                              |===========================                                           |  38%  |                                                                              |==============================                                        |  42%</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   |                                                                              |================================                                      |  46%  |                                                                              |===================================                                   |  50%  |                                                                              |======================================                                |  54%</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   |                                                                              |========================================                              |  58%  |                                                                              |===========================================                           |  62%  |                                                                              |==============================================                        |  65%  |                                                                              |================================================                      |  69%  |                                                                              |===================================================                   |  73%  |                                                                              |======================================================                |  77%  |                                                                              |=========================================================             |  81%</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   |                                                                              |===========================================================           |  85%</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   |                                                                              |==============================================================        |  88%</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   |                                                                              |=================================================================     |  92%</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   |                                                                              |===================================================================   |  96%</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   |                                                                              |======================================================================| 100%</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Compiling model graph</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Resolving undeclared variables</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Allocating nodes</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Graph information:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Observed stochastic nodes: 182</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Unobserved stochastic nodes: 205</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Total graph size: 3979</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Initializing model</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "Calculating nodesplit for: almotriptan_1 vs sumatriptan_1"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Compiling model graph</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Resolving undeclared variables</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Allocating nodes</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Graph information:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Observed stochastic nodes: 180</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Unobserved stochastic nodes: 203</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Total graph size: 3934</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Initializing model</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Compiling model graph</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Resolving undeclared variables</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Allocating nodes</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Graph information:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Observed stochastic nodes: 182</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Unobserved stochastic nodes: 436</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Total graph size: 4071</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Initializing model</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Plot results</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">split</span>, plot.type<span class="op">=</span><span class="st">"density"</span><span class="op">)</span> <span class="co"># Plot density plots of posterior densities</span></span></span>
<span class="r-plt img"><img src="nma.nodesplit-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">split</span>, plot.type<span class="op">=</span><span class="st">"forest"</span><span class="op">)</span> <span class="co"># Plot forest plots of direct and indirect evidence</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Print and summarise results</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">split</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="font-weight: bold;">========================================</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="font-weight: bold;">Node-splitting analysis of inconsistency</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="font-weight: bold;">========================================</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |Comparison                         | p-value| Median|   2.5%|  97.5%|</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |:----------------------------------|-------:|------:|------:|------:|</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |zolmitriptan_1 vs almotriptan_1    |   0.498|       |       |       |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |-&gt; direct                          |        |  0.123| -0.131|  0.361|</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |-&gt; indirect                        |        |  0.291|  0.054|  0.523|</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |-&gt; MBNMA                           |        |  0.214|  0.033|  0.389|</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |                                   |        |       |       |       |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |rizatriptan_1 vs sumatriptan_1     |   0.180|       |       |       |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |-&gt; direct                          |        |  0.190| -0.063|  0.436|</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |-&gt; indirect                        |        |  0.481|  0.309|  0.663|</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |-&gt; MBNMA                           |        |  0.389|  0.241|  0.532|</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |                                   |        |       |       |       |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |almotriptan_1 vs sumatriptan_1     |   0.119|       |       |       |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |-&gt; direct                          |        | -0.400| -0.678| -0.127|</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |-&gt; indirect                        |        | -0.024| -0.219|  0.169|</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |-&gt; MBNMA                           |        | -0.155| -0.324|  0.009|</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |                                   |        |       |       |       |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |rizatriptan_0.5 vs sumatriptan_0.5 |   0.442|       |       |       |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |-&gt; direct                          |        |  0.281|  0.013|  0.537|</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |-&gt; indirect                        |        |  0.015| -0.413|  0.434|</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |-&gt; MBNMA                           |        |  0.216| -0.008|  0.430|</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |                                   |        |       |       |       |</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">split</span><span class="op">)</span> <span class="co"># Generate a data frame of summary results</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                            Comparison Evidence Median   2.5%  97.5% p.value</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1     zolmitriptan_1 vs almotriptan_1   Direct  0.123 -0.131  0.361   0.498</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2     zolmitriptan_1 vs almotriptan_1 Indirect  0.291  0.054  0.523   0.498</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3     zolmitriptan_1 vs almotriptan_1      NMA  0.214  0.033  0.389   0.498</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4      rizatriptan_1 vs sumatriptan_1   Direct  0.190 -0.063  0.436   0.180</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5      rizatriptan_1 vs sumatriptan_1 Indirect  0.481  0.309  0.663   0.180</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6      rizatriptan_1 vs sumatriptan_1      NMA  0.389  0.241  0.532   0.180</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7      almotriptan_1 vs sumatriptan_1   Direct -0.400 -0.678 -0.127   0.119</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8      almotriptan_1 vs sumatriptan_1 Indirect -0.024 -0.219  0.169   0.119</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9      almotriptan_1 vs sumatriptan_1      NMA -0.155 -0.324  0.009   0.119</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10 rizatriptan_0.5 vs sumatriptan_0.5   Direct  0.281  0.013  0.537   0.442</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11 rizatriptan_0.5 vs sumatriptan_0.5 Indirect  0.015 -0.413  0.434   0.442</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12 rizatriptan_0.5 vs sumatriptan_0.5      NMA  0.216 -0.008  0.430   0.442</span>
<span class="r-in"><span><span class="co"># }</span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Hugo Pedder.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

