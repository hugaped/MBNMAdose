<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Identify comparisons in loops that fulfill criteria for node-splitting — inconsistency.loops • MBNMAdose</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Identify comparisons in loops that fulfill criteria for node-splitting — inconsistency.loops"><meta property="og:description" content="Identify comparisons informed by both direct and indirect evidence from
independent sources, which therefore fulfill the criteria for testing for
inconsistency via node-splitting."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">MBNMAdose</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.5.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/consistencychecking-3.html">MBNMAdose: Checking for consistency</a>
    </li>
    <li>
      <a href="../articles/dataexploration-1.html">MBNMAdose: Exploring the data</a>
    </li>
    <li>
      <a href="../articles/mbnmadose-overview.html">MBNMAdose: Package Overview</a>
    </li>
    <li>
      <a href="../articles/metaregression-6.html">MBNMAdose: Perform Network Meta-Regression</a>
    </li>
    <li>
      <a href="../articles/nma_in_mbnmadose.html">Class effect NMA analysis using MBNMAdose</a>
    </li>
    <li>
      <a href="../articles/outputs-4.html">MBNMAdose outputs: Relative effects, forest plots and rankings</a>
    </li>
    <li>
      <a href="../articles/predictions-5.html">MBNMAdose: Calculating model predictions</a>
    </li>
    <li>
      <a href="../articles/runmbnmadose-2.html">MBNMAdose: Perform a Model-Based Network Meta-Analysis (MBNMA)</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"></ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Identify comparisons in loops that fulfill criteria for node-splitting</h1>

    <div class="hidden name"><code>inconsistency.loops.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Identify comparisons informed by both direct and indirect evidence from
independent sources, which therefore fulfill the criteria for testing for
inconsistency via node-splitting.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">inconsistency.loops</span><span class="op">(</span><span class="va">df</span>, checkindirect <span class="op">=</span> <span class="cn">TRUE</span>, incldr <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>


<dl><dt id="arg-df">df<a class="anchor" aria-label="anchor" href="#arg-df"></a></dt>
<dd><p>A data frame containing variables <code>studyID</code> and <code>treatment</code> (as
numeric codes) that indicate which treatments are used in which studies. If <code>checkindirect = TRUE</code>
then variables <code>agent</code> and <code>dose</code> are also required.</p></dd>


<dt id="arg-checkindirect">checkindirect<a class="anchor" aria-label="anchor" href="#arg-checkindirect"></a></dt>
<dd><p>A boolean object to indicate whether or not to perform an additional
check to ensure network remains connected even after dropping direct evidence on a comparison.
Default is <code>TRUE</code> and should be kept as <code>TRUE</code> if working with dose-response data, though this requires
further computational iterations to confirm. If set to <code>FALSE</code>, additional comparisons may be identified, though computation will be much more
rapid.</p></dd>


<dt id="arg-incldr">incldr<a class="anchor" aria-label="anchor" href="#arg-incldr"></a></dt>
<dd><p>A boolean object indicating whether or not to allow for indirect evidence contributions via
the dose-response relationship. This can be used when node-splitting in dose-response MBNMA to allow
for a greater number of potential loops in which to check for consistency.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>A data frame of comparisons that are informed by direct and indirect
evidence from independent sources. Each row of the data frame is a
different treatment comparison. Numerical codes in <code>t1</code> and <code>t2</code> correspond
to treatment codes. <code>path</code> indicates the treatment codes that connect the
shortest path of indirect evidence.</p>
<p>If <code>incldr=TRUE</code> then <code>path</code> may indicate <code>doseresp</code> for some comparisons.
These are comparisons for which indirect evidence is only available via the
dose-response relationship. The two numbers given after (e.g. <code>3 2</code>) indicate the
number of doses available in the indirect evidence with which to estimate the
dose-response function for the treatments in <code>t1</code> and <code>t2</code> respectively/</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>Similar to <code>gemtc::mtc.nodesplit.comparisons()</code> but uses a fixed
reference treatment and therefore identifies fewer loops in which to test for
inconsistency. Heterogeneity can also be parameterised as inconsistency and
so testing for inconsistency in additional loops whilst changing the
reference treatment would also be identifying heterogeneity. Depends on
<code><a href="https://r.igraph.org/reference/aaa-igraph-package.html" class="external-link">igraph</a></code>.</p>
    </div>
    <div id="references">
    <h2>References</h2>
    <p></p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># \donttest{</span></span></span>
<span class="r-in"><span><span class="co"># Identify comparisons informed by direct and indirect evidence</span></span></span>
<span class="r-in"><span><span class="co">#in triptans dataset</span></span></span>
<span class="r-in"><span><span class="va">network</span> <span class="op">&lt;-</span> <span class="fu"><a href="mbnma.network.html">mbnma.network</a></span><span class="op">(</span><span class="va">triptans</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Values for `agent` with dose = 0 have been recoded to `Placebo`</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> agent is being recoded to enforce sequential numbering</span>
<span class="r-in"><span><span class="fu">inconsistency.loops</span><span class="op">(</span><span class="va">network</span><span class="op">$</span><span class="va">data.ab</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   |                                                                              |                                                                      |   0%  |                                                                              |===                                                                   |   4%  |                                                                              |=====                                                                 |   8%  |                                                                              |========                                                              |  12%  |                                                                              |===========                                                           |  15%</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   |                                                                              |=============                                                         |  19%</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   |                                                                              |================                                                      |  23%  |                                                                              |===================                                                   |  27%  |                                                                              |======================                                                |  31%  |                                                                              |========================                                              |  35%  |                                                                              |===========================                                           |  38%  |                                                                              |==============================                                        |  42%</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   |                                                                              |================================                                      |  46%  |                                                                              |===================================                                   |  50%  |                                                                              |======================================                                |  54%</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   |                                                                              |========================================                              |  58%  |                                                                              |===========================================                           |  62%  |                                                                              |==============================================                        |  65%  |                                                                              |================================================                      |  69%  |                                                                              |===================================================                   |  73%  |                                                                              |======================================================                |  77%  |                                                                              |=========================================================             |  81%</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   |                                                                              |===========================================================           |  85%</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   |                                                                              |==============================================================        |  88%</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   |                                                                              |=================================================================     |  92%</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   |                                                                              |===================================================================   |  96%</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   |                                                                              |======================================================================| 100%</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    t1 t2      path</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10 12 15 12-&gt;1-&gt;15</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9   6 23  6-&gt;1-&gt;23</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8   6 12  6-&gt;1-&gt;12</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7   5 22  5-&gt;1-&gt;22</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Include indirect evidence via dose-response relationship</span></span></span>
<span class="r-in"><span><span class="fu">inconsistency.loops</span><span class="op">(</span><span class="va">network</span><span class="op">$</span><span class="va">data.ab</span>, incldr<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   |                                                                              |                                                                      |   0%  |                                                                              |===                                                                   |   4%  |                                                                              |=====                                                                 |   8%  |                                                                              |========                                                              |  12%  |                                                                              |===========                                                           |  15%</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   |                                                                              |=============                                                         |  19%</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   |                                                                              |================                                                      |  23%  |                                                                              |===================                                                   |  27%  |                                                                              |======================                                                |  31%  |                                                                              |========================                                              |  35%  |                                                                              |===========================                                           |  38%  |                                                                              |==============================                                        |  42%</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   |                                                                              |================================                                      |  46%  |                                                                              |===================================                                   |  50%  |                                                                              |======================================                                |  54%</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   |                                                                              |========================================                              |  58%  |                                                                              |===========================================                           |  62%  |                                                                              |==============================================                        |  65%  |                                                                              |================================================                      |  69%  |                                                                              |===================================================                   |  73%  |                                                                              |======================================================                |  77%  |                                                                              |=========================================================             |  81%</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   |                                                                              |===========================================================           |  85%</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   |                                                                              |==============================================================        |  88%</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   |                                                                              |=================================================================     |  92%</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   |                                                                              |===================================================================   |  96%</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   |                                                                              |======================================================================| 100%</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    t1 t2         path</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 26 12 15    12-&gt;1-&gt;15</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 25  6 23     6-&gt;1-&gt;23</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 24  6 12     6-&gt;1-&gt;12</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 23  5 22     5-&gt;1-&gt;22</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 20  1 21 drparams 5 3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 19  1 20 drparams 5 2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 18  1 19 drparams 5 2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 17  1 18 drparams 4 5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 16  1 17 drparams 4 5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 15  1 16 drparams 4 5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13  1 14 drparams 4 5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12  1 13 drparams 5 3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10  1 11 drparams 5 3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9   1 10 drparams 5 2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8   1  9 drparams 5 2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7   1  8 drparams 5 4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6   1  7 drparams 5 4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3   1  4 drparams 5 3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2   1  3 drparams 5 3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1   1  2 drparams 5 3</span>
<span class="r-in"><span><span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Do not perform additional connectivity check on data</span></span></span>
<span class="r-in"><span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>studyID<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">1</span>,<span class="fl">2</span>,<span class="fl">2</span>,<span class="fl">3</span>,<span class="fl">3</span>,<span class="fl">4</span>,<span class="fl">4</span>,<span class="fl">5</span>,<span class="fl">5</span>,<span class="fl">5</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>            treatment<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">2</span>,<span class="fl">1</span>,<span class="fl">3</span>,<span class="fl">2</span>,<span class="fl">3</span>,<span class="fl">3</span>,<span class="fl">4</span>,<span class="fl">1</span>,<span class="fl">2</span>,<span class="fl">4</span><span class="op">)</span></span></span>
<span class="r-in"><span>            <span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">inconsistency.loops</span><span class="op">(</span><span class="va">data</span>, checkindirect<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   |                                                                              |                                                                      |   0%  |                                                                              |==============                                                        |  20%  |                                                                              |============================                                          |  40%  |                                                                              |==========================================                            |  60%  |                                                                              |========================================================              |  80%  |                                                                              |======================================================================| 100%</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   t1 t2    path</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5  3  4 3-&gt;1-&gt;4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4  2  3 2-&gt;1-&gt;3</span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Hugo Pedder.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

      </footer></div>






  </body></html>

