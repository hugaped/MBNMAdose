<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Synthesise single arm dose = 0 / placebo studies to estimate E0 — ref.synth • MBNMAdose</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Synthesise single arm dose = 0 / placebo studies to estimate E0 — ref.synth"><meta property="og:description" content="Synthesises single arm studies to estimate E0. Used in predicting responses from a
dose-response MBNMA."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">MBNMAdose</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.4.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/consistencychecking-3.html">MBNMAdose: Checking for consistency</a>
    </li>
    <li>
      <a href="../articles/dataexploration-1.html">MBNMAdose: Exploring the data</a>
    </li>
    <li>
      <a href="../articles/mbnmadose-overview.html">MBNMAdose: Package Overview</a>
    </li>
    <li>
      <a href="../articles/metaregression-6.html">MBNMAdose: Perform Network Meta-Regression</a>
    </li>
    <li>
      <a href="../articles/nma_in_mbnmadose.html">Class effect NMA analysis using MBNMAdose</a>
    </li>
    <li>
      <a href="../articles/outputs-4.html">MBNMAdose outputs: Relative effects, forest plots and rankings</a>
    </li>
    <li>
      <a href="../articles/predictions-5.html">MBNMAdose: Calculating model predictions</a>
    </li>
    <li>
      <a href="../articles/runmbnmadose-2.html">UNKNOWN TITLE</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"></ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Synthesise single arm dose = 0 / placebo studies to estimate E0</h1>
    
    <div class="hidden name"><code>ref.synth.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Synthesises single arm studies to estimate E0. Used in predicting responses from a
dose-response MBNMA.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">ref.synth</span><span class="op">(</span></span>
<span>  <span class="va">data.ab</span>,</span>
<span>  <span class="va">mbnma</span>,</span>
<span>  synth <span class="op">=</span> <span class="st">"fixed"</span>,</span>
<span>  n.iter <span class="op">=</span> <span class="va">mbnma</span><span class="op">$</span><span class="va">BUGSoutput</span><span class="op">$</span><span class="va">n.iter</span>,</span>
<span>  n.burnin <span class="op">=</span> <span class="va">mbnma</span><span class="op">$</span><span class="va">BUGSoutput</span><span class="op">$</span><span class="va">n.burnin</span>,</span>
<span>  n.thin <span class="op">=</span> <span class="va">mbnma</span><span class="op">$</span><span class="va">BUGSoutput</span><span class="op">$</span><span class="va">n.thin</span>,</span>
<span>  n.chains <span class="op">=</span> <span class="va">mbnma</span><span class="op">$</span><span class="va">BUGSoutput</span><span class="op">$</span><span class="va">n.chains</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>data.ab</dt>
<dd><p>A data frame of arm-level data in "long" format containing the
columns:</p><ul><li><p><code>studyID</code> Study identifiers</p></li>
<li><p><code>y</code> Numeric data indicating the aggregate response for a continuous outcome. Required for
continuous data.</p></li>
<li><p><code>se</code> Numeric data indicating the standard error for a given observation. Required for
continuous data.</p></li>
<li><p><code>r</code> Numeric data indicating the number of responders within a study arm. Required for
binomial or poisson data.</p></li>
<li><p><code>n</code> Numeric data indicating the total number of participants within a study arm. Required for
binomial data</p></li>
<li><p><code>E</code> Numeric data indicating the total exposure time for participants within a study arm. Required
for poisson data.</p></li>
</ul></dd>


<dt>mbnma</dt>
<dd><p>An S3 object of class <code>"mbnma"</code> generated by running
a dose-response MBNMA model</p></dd>


<dt>synth</dt>
<dd><p>A character object that can take the value <code>"fixed"</code> or <code>"random"</code> to
specify the the type of pooling to use for synthesis of <code>E0</code> if a data frame
has been provided for it. Using <code>"random"</code> rather
than <code>"fixed"</code> for <code>synth</code> will result in wider 95\% CrI for predictions.</p></dd>


<dt>n.iter</dt>
<dd><p>number of total iterations per chain (including burn in;
    default: 2000)</p></dd>


<dt>n.burnin</dt>
<dd><p>length of burn in, i.e. number of iterations to
    discard at the beginning. Default is <code>n.iter/2</code>, that is,
    discarding the first half of the simulations. If n.burnin is 0,
    <code>jags()</code> will run 100 iterations for adaption.</p></dd>


<dt>n.thin</dt>
<dd><p>thinning rate. Must be a positive integer.  Set
    <code>n.thin</code> &gt; 1 to save memory and computation time if
    <code>n.iter</code> is large.  Default is <code>max(1, floor(n.chains *
    (n.iter-n.burnin) / 1000))</code> which will only thin if there are at
    least 2000 simulations.</p></dd>


<dt>n.chains</dt>
<dd><p>number of Markov chains (default: 3)</p></dd>


<dt>...</dt>
<dd><p>Arguments to be sent to <code><a href="https://rdrr.io/pkg/R2jags/man/jags.html" class="external-link">R2jags::jags()</a></code> for synthesis of the network
reference treatment effect (using <code>ref.synth()</code>)</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>A list of named elements corresponding to E0 and the between-study standard deviation for
E0 if <code>synth="random"</code>. Each element contains the full MCMC results from the synthesis.</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p><code>data.ab</code> can be a collection of studies that closely resemble the
population of interest intended for the prediction, which could be
different to those used to estimate the MBNMA model, and could include
single arms of RCTs or observational studies. If other data is not
available, the data used to estimate the MBNMA model can be used by
selecting only the studies and arms that investigate dose = 0 (placebo).</p>
<p>Defaults for <code>n.iter</code>, <code>n.burnin</code>, <code>n.thin</code> and <code>n.chains</code> are those used to estimate
<code>mbnma</code>.</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># \donttest{</span></span></span>
<span class="r-in"><span><span class="co"># Using the triptans data</span></span></span>
<span class="r-in"><span><span class="va">network</span> <span class="op">&lt;-</span> <span class="fu"><a href="mbnma.network.html">mbnma.network</a></span><span class="op">(</span><span class="va">triptans</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Values for `agent` with dose = 0 have been recoded to `Placebo`</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> agent is being recoded to enforce sequential numbering</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Run an Emax dose-response MBNMA</span></span></span>
<span class="r-in"><span><span class="va">emax</span> <span class="op">&lt;-</span> <span class="fu"><a href="mbnma.run.html">mbnma.run</a></span><span class="op">(</span><span class="va">network</span>, fun<span class="op">=</span><span class="fu"><a href="demax.html">demax</a></span><span class="op">(</span><span class="op">)</span>, method<span class="op">=</span><span class="st">"random"</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> `likelihood` not given by user - set to `binomial` based on data provided</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> `link` not given by user - set to `logit` based on assigned value for `likelihood`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Compiling model graph</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Resolving undeclared variables</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Allocating nodes</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Graph information:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Observed stochastic nodes: 182</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Unobserved stochastic nodes: 197</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Total graph size: 4115</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Initializing model</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Data frame for synthesis can be taken from placebo arms</span></span></span>
<span class="r-in"><span><span class="va">ref.df</span> <span class="op">&lt;-</span> <span class="va">triptans</span><span class="op">[</span><span class="va">triptans</span><span class="op">$</span><span class="va">agent</span><span class="op">==</span><span class="st">"placebo"</span>,<span class="op">]</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Meta-analyse placebo studies using fixed treatment effects</span></span></span>
<span class="r-in"><span><span class="va">E0</span> <span class="op">&lt;-</span> <span class="fu">ref.synth</span><span class="op">(</span><span class="va">ref.df</span>, <span class="va">emax</span>, synth<span class="op">=</span><span class="st">"fixed"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "Data frame must contain only data from reference treatment"</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Values for `agent` with dose = 0 have been recoded to `Placebo`</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> agent is being recoded to enforce sequential numbering</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Compiling model graph</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Resolving undeclared variables</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Allocating nodes</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Graph information:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Observed stochastic nodes: 66</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Unobserved stochastic nodes: 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Total graph size: 1066</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Initializing model</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">E0</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "jagsmod" "m.mu"   </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Meta-analyse placebo studies using random treatment effects</span></span></span>
<span class="r-in"><span><span class="va">E0</span> <span class="op">&lt;-</span> <span class="fu">ref.synth</span><span class="op">(</span><span class="va">ref.df</span>, <span class="va">emax</span>, synth<span class="op">=</span><span class="st">"random"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "Data frame must contain only data from reference treatment"</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Values for `agent` with dose = 0 have been recoded to `Placebo`</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> agent is being recoded to enforce sequential numbering</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Compiling model graph</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Resolving undeclared variables</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Allocating nodes</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Graph information:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Observed stochastic nodes: 66</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Unobserved stochastic nodes: 68</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Total graph size: 1222</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Initializing model</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">E0</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "jagsmod" "m.mu"    "sd.mu"  </span>
<span class="r-in"><span><span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Hugo Pedder.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

